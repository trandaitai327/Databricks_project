{
  "name": "Olist E-Commerce ETL Pipeline",
  "timeout_seconds": 7200,
  "max_concurrent_runs": 1,
  "tasks": [
    {
      "task_key": "setup",
      "description": "Setup Unity Catalog and databases",
      "notebook_task": {
        "notebook_path": "/notebooks/00_setup/00_run_all_setup",
        "base_parameters": {}
      },
      "timeout_seconds": 600
    },
    {
      "task_key": "bronze_ingestion",
      "description": "Ingest raw data to Bronze layer",
      "depends_on": [{"task_key": "setup"}],
      "notebook_task": {
        "notebook_path": "/notebooks/01_bronze/00_run_all_ingestion",
        "base_parameters": {}
      },
      "timeout_seconds": 3600
    },
    {
      "task_key": "silver_cleaning",
      "description": "Clean and validate data in Silver layer",
      "depends_on": [{"task_key": "bronze_ingestion"}],
      "notebook_task": {
        "notebook_path": "/notebooks/02_silver/00_run_all_cleaning",
        "base_parameters": {}
      },
      "timeout_seconds": 3600
    },
    {
      "task_key": "gold_dimensions",
      "description": "Process dimension tables with SCD Type 2",
      "depends_on": [{"task_key": "silver_cleaning"}],
      "notebook_task": {
        "notebook_path": "/notebooks/03_gold/01_dim_customers_scd2",
        "base_parameters": {}
      },
      "timeout_seconds": 1800
    },
    {
      "task_key": "gold_facts",
      "description": "Process fact tables with streaming",
      "depends_on": [{"task_key": "gold_dimensions"}],
      "notebook_task": {
        "notebook_path": "/notebooks/03_gold/05_fact_orders_streaming",
        "base_parameters": {}
      },
      "timeout_seconds": 3600
    },
    {
      "task_key": "business_layer",
      "description": "Create business reporting tables and views",
      "depends_on": [{"task_key": "gold_facts"}],
      "notebook_task": {
        "notebook_path": "/notebooks/04_business/00_run_all_business",
        "base_parameters": {}
      },
      "timeout_seconds": 1800
    },
    {
      "task_key": "data_quality",
      "description": "Run data quality checks",
      "depends_on": [{"task_key": "business_layer"}],
      "notebook_task": {
        "notebook_path": "/notebooks/07_governance/data_quality_checks",
        "base_parameters": {}
      },
      "timeout_seconds": 600
    }
  ],
  "schedule": {
    "quartz_cron_expression": "0 0 2 * * ?",
    "timezone_id": "UTC",
    "pause_status": "UNPAUSED"
  },
  "email_notifications": {
    "on_start": [],
    "on_success": [],
    "on_failure": []
  },
  "webhook_notifications": {
    "on_start": [],
    "on_success": [],
    "on_failure": []
  }
}

